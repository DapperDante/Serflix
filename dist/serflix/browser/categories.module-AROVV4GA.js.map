{
  "version": 3,
  "sources": ["src/app/categories/home-categories/home-categories.component.ts", "src/app/categories/home-categories/home-categories.component.html", "src/app/categories/categories-routing.module.ts", "src/app/categories/categories.module.ts"],
  "sourcesContent": ["import { Component, inject } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { forkJoin, map, Observable, tap } from 'rxjs';\r\nimport { ItemMoviesService } from 'src/app/movies/service/item-movies.service';\r\nimport { ItemSeriesService } from 'src/app/series/service/item-series.service';\r\n\r\ninterface DataValid {\r\n\tname: string;\r\n\tid: number;\r\n\tidSeries: number | undefined;\r\n\tidMovies: number;\r\n}\r\n\r\n@Component({\r\n\tselector: 'app-home-categories',\r\n\ttemplateUrl: './home-categories.component.html',\r\n\tstyles: ``,\r\n})\r\nexport class HomeCategoriesComponent {\r\n\tprivate dataValid: DataValid[] = [\r\n\t\t{\r\n\t\t\tname: 'Adventure',\r\n\t\t\tid: 1,\r\n\t\t\tidSeries: 10759,\r\n\t\t\tidMovies: 12,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Comedy',\r\n\t\t\tid: 2,\r\n\t\t\tidSeries: 16,\r\n\t\t\tidMovies: 35,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Horror',\r\n\t\t\tid: 3,\r\n\t\t\tidSeries: undefined,\r\n\t\t\tidMovies: 27,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Animation',\r\n\t\t\tid: 4,\r\n\t\t\tidSeries: 16,\r\n\t\t\tidMovies: 16,\r\n\t\t},\r\n\t];\r\n\tprivate readonly _movies = inject(ItemMoviesService);\r\n\tprivate readonly _series = inject(ItemSeriesService);\r\n\titems$!: Observable<any>;\r\n\ttotalItemsToPaginator: number = 0;\r\n\titemsForShowToPaginator: number = 20;\r\n\tcontrolStatePaginator: number = 0;\r\n\tindexPage: number = 1;\r\n\tcategoryCurrent?: DataValid;\r\n\tconstructor(private _router: Router, private _activeRoute: ActivatedRoute) {}\r\n\tngOnInit(): void {\r\n\t\tthis._activeRoute.params.subscribe((params) => {\r\n\t\t\tthis.categoryCurrent = this.dataValid.find((data) => data.id == params['id']);\r\n\t\t\tif (!this.categoryCurrent) this._router.navigate(['/home']);\r\n\t\t\tthis.UpdateRequest(1);\r\n\t\t});\r\n\t}\r\n\tChangePage(event: any) {\r\n\t\tthis.indexPage = event.page! + 1;\r\n\t\tthis.controlStatePaginator = event.first!;\r\n\t\tthis.UpdateRequest(this.indexPage);\r\n\t}\r\n\tUpdateRequest(page: number) {\r\n\t\tthis.items$ = forkJoin([\r\n\t\t\tthis._movies.getMoviesByGenre(this.categoryCurrent?.idMovies + '', page),\r\n\t\t\tthis._series.getSeriesByGenre(this.categoryCurrent?.idSeries + '', page),\r\n\t\t]).pipe(\r\n\t\t\tmap(([movies, series]) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tresults: [...movies.results, ...series.results],\r\n\t\t\t\t\ttotal_pages: Math.max(movies.total_pages, series.total_pages),\r\n\t\t\t\t\ttotal_results: movies.total_results + series.total_results,\r\n\t\t\t\t};\r\n\t\t\t}),\r\n\t\t\ttap((data) => {\r\n\t\t\t\tif (data.total_pages > 500)\r\n\t\t\t\t\tthis.totalItemsToPaginator = 500 * 20;\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.totalItemsToPaginator = data.total_pages * 20;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n}\r\n", "<app-panel-items\r\n\t[title]=\"categoryCurrent!.name\"\r\n\t[items]=\"items$\"\r\n\t[showPaginator]=\"true\"\r\n\t[totalItemsToPaginator]=\"totalItemsToPaginator\"\r\n\t[itemsForShowToPaginator]=\"itemsForShowToPaginator\"\r\n\t[controlStatePaginator]=\"controlStatePaginator\"\r\n\t(getIndexPaginator)=\"ChangePage($event)\"/>\r\n", "import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { HomeCategoriesComponent } from './home-categories/home-categories.component';\r\n\r\nconst routes: Routes = [\r\n\t{\r\n\t\tpath: ':id',\r\n\t\tcomponent: HomeCategoriesComponent,\r\n\t},\r\n];\r\n\r\n@NgModule({\r\n\tdeclarations: [],\r\n\timports: [RouterModule.forChild(routes)],\r\n\texports: [RouterModule],\r\n})\r\nexport class CategoriesRoutingModule {}\r\n", "import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { HomeCategoriesComponent } from './home-categories/home-categories.component';\r\nimport { CategoriesRoutingModule } from './categories-routing.module';\r\nimport { SharedComponentsModule } from '../shared-components/shared-components.module';\r\n\r\n@NgModule({\r\n\tdeclarations: [HomeCategoriesComponent],\r\n\timports: [CommonModule, CategoriesRoutingModule, SharedComponentsModule],\r\n})\r\nexport class CategoriesModule {}\r\n"],
  "mappings": "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",
  "names": []
}
