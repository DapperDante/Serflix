<div class="grid grid-nested">
		@if(profile$ | async; as profile){
			<div class="col-12 grid grid-nogutter" [@fadeIn] [style]="{height: '40vh'}">
				<div class="col-2 relative cursor-pointer flex justify-content-center align-items-center">
					<div class="absolute h-full w-full flex justify-content-center align-items-center icon-image opacity-0" (click)="ChangePhotoProfile()">
						<i class="pi pi-user-edit absolute"></i>
					</div>
					<img [ngSrc]="profile.img" alt="image's profile" fill priority [style]="{objectFit: 'contain', zIndex: -1}" class="image-profile">
					<app-show-images title="Select an image" [images$]="photos$" [(isActive)]="selectPhotoProfile" (getImage)="UpdateImg($event)"/>
				</div>
				<div class="col-5">
					@if(dataChartFavorite){
						<p-chart type="doughnut" [data]="dataChartFavorite" [options]="dataChartOptions" height="100%"/>
					}@else {
						<div class="flex justify-content-center align-items-center h-full">
							<p class="text-center">Don't have movies or series favorites</p>
						</div>
					}
				</div>
				<div class="col-5 surface-overlay border-round px-5 py-7">
					<p-floatLabel>
						<input type="text" pInputText title="change name" id="change-name" class="w-full" [style]="{fontSize: '1.2rem'}" [(ngModel)]="newName"/>
						<label for="change-name">Change name</label>
					</p-floatLabel>
					<p-button label="Change" icon="pi pi-pencil" [style]="{marginTop: '2rem'}" (onClick)="UpdateName()" [loading]="loading"/>
				</div>
			</div>
			<h2 class="col-12 text-center">GOALS</h2>
			<div class="col-12 grid grid-nogutter bg-red-500 border-round" [style]="{height: '15vh'}" [@fadeIn]>
				@for(goals of profile.goals; track $index){
					<div class="col-2 relative">
						<img [ngSrc]="goals.url" alt="goal" fill priority="false" [style]="{objectFit: 'contain'}" [title]="goals.name" class="w-full">
					</div>
				}@empty {
					<p class=" col-12 text-center pt-5">Don't have goals</p>
				}
			</div>
		}
</div>
